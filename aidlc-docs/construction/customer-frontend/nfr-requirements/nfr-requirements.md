# NFR Requirements - Customer Frontend

## Overview

Customer Frontend의 비기능 요구사항(Non-Functional Requirements)을 정의합니다. 성능, 가용성, 보안, 사용성 등의 품질 속성을 명시합니다.

---

## 1. 성능 요구사항 (Performance)

### NFRQ-CF-001: 페이지 로딩 시간
- **요구사항**: 주요 페이지의 초기 로딩 시간은 2초 이내
- **측정 기준**: First Contentful Paint (FCP)
- **적용 페이지**:
  - 메뉴 화면
  - 장바구니 화면
  - 주문 내역 화면
- **목표**: 표준 웹 앱 수준의 사용자 경험 제공
- **검증 방법**: Chrome DevTools Lighthouse

---

### NFRQ-CF-002: API 응답 대기 시간
- **요구사항**: API 호출 후 UI 업데이트까지 1초 이내
- **측정 기준**: API 호출 시작부터 UI 렌더링 완료까지
- **적용 API**:
  - 메뉴 조회 (`GET /api/menus`)
  - 주문 생성 (`POST /api/orders`)
  - 주문 내역 조회 (`GET /api/orders`)
- **목표**: 빠른 사용자 피드백
- **검증 방법**: Network 탭 + Performance 측정

---

### NFRQ-CF-003: 번들 크기
- **요구사항**: 초기 JavaScript 번들 크기는 500KB 이하 (gzip 압축 후)
- **측정 기준**: Vite 빌드 결과
- **목표**: 빠른 다운로드 및 파싱
- **최적화 방법**:
  - Vite 기본 Tree-shaking
  - 불필요한 라이브러리 제거
  - 이미지 최적화 (WebP 사용)
- **검증 방법**: `npm run build` 결과 확인

---

### NFRQ-CF-004: 메모리 사용량
- **요구사항**: 앱 실행 중 메모리 사용량은 100MB 이하
- **측정 기준**: Chrome DevTools Memory Profiler
- **목표**: 장시간 사용 시에도 안정적 동작
- **주의사항**: 메모리 누수 방지 (이벤트 리스너 정리)
- **검증 방법**: 장시간 사용 테스트 (1시간)

---

## 2. 가용성 요구사항 (Availability)

### NFRQ-CF-005: 네트워크 에러 처리
- **요구사항**: 네트워크 에러 발생 시 자동 재시도 1회
- **재시도 간격**: 1초
- **재시도 실패 시**: 사용자 친화적 에러 메시지 표시
- **에러 메시지 예시**:
  - "네트워크 연결을 확인해주세요"
  - "다시 시도" 버튼 제공
- **적용**: 모든 API 호출 (Axios Interceptor)

---

### NFRQ-CF-006: 오프라인 모드
- **요구사항**: 네트워크 연결 끊김 시 에러 메시지 표시
- **동작**:
  - 에러 알림: "네트워크 연결을 확인해주세요"
  - 재시도 버튼 제공
  - 캐시된 데이터 사용 안 함 (간단한 구현)
- **목표**: 사용자에게 명확한 상태 전달
- **참고**: Service Worker 사용 안 함 (복잡도 감소)

---

### NFRQ-CF-007: 에러 로깅
- **요구사항**: 에러 발생 시 콘솔에 로그 출력
- **로그 레벨**:
  - `console.error()`: 치명적 에러
  - `console.warn()`: 경고
  - `console.log()`: 일반 정보
- **로그 내용**:
  - 에러 메시지
  - 에러 발생 시각
  - 에러 발생 위치 (파일명, 함수명)
- **목표**: 개발 중 디버깅 용이
- **참고**: 프로덕션 로그는 별도 수집 안 함

---

### NFRQ-CF-008: 로딩 상태 표시
- **요구사항**: API 호출 중 로딩 스피너 표시
- **표시 위치**:
  - 화면 중앙 (전체 화면 로딩)
  - 버튼 내부 (버튼 클릭 시)
- **적용**:
  - 로그인
  - 메뉴 로딩
  - 주문 생성
  - 주문 내역 로딩
- **목표**: 사용자에게 진행 상태 전달

---

## 3. 보안 요구사항 (Security)

### NFRQ-CF-009: XSS 방어
- **요구사항**: Cross-Site Scripting (XSS) 공격 방어
- **방어 방법**:
  - Vue.js의 자동 이스케이핑 사용
  - `v-html` 사용 금지
  - 사용자 입력 검증
- **적용**: 모든 사용자 입력 및 출력
- **목표**: 악의적 스크립트 실행 방지

---

### NFRQ-CF-010: 세션 토큰 보안
- **요구사항**: 세션 토큰을 안전하게 저장 및 전송
- **저장 위치**: LocalStorage (HTTPS 환경에서만 사용)
- **전송 방법**: HTTP Header (`X-Session-Token`)
- **주의사항**:
  - 토큰을 URL에 포함하지 않음
  - 토큰을 콘솔에 출력하지 않음
- **목표**: 세션 하이재킹 방지

---

### NFRQ-CF-011: HTTPS 사용
- **요구사항**: 프로덕션 환경에서 HTTPS 필수
- **적용**: 모든 API 호출 및 리소스 로딩
- **목표**: 중간자 공격 (MITM) 방지
- **참고**: 개발 환경은 HTTP 허용

---

## 4. 사용성 요구사항 (Usability)

### NFRQ-CF-012: 브라우저 호환성
- **요구사항**: 최신 브라우저만 지원
- **지원 브라우저**:
  - Chrome 최신 버전
  - Firefox 최신 버전
  - Safari 최신 버전
  - Edge 최신 버전
- **미지원**: Internet Explorer 11
- **목표**: 개발 간편성 및 최신 기능 사용
- **검증 방법**: 각 브라우저에서 수동 테스트

---

### NFRQ-CF-013: 반응형 디자인
- **요구사항**: 태블릿 전용 고정 크기 디자인
- **타겟 해상도**: 1024x768 ~ 1280x800 (일반적인 태블릿)
- **동작**:
  - 고정 레이아웃 사용
  - 미디어 쿼리 최소화
  - 간단한 구현
- **목표**: 테이블 태블릿 전용 최적화
- **참고**: 모바일/데스크톱 지원 안 함

---

### NFRQ-CF-014: 접근성 (Accessibility)
- **요구사항**: 기본 웹 접근성 준수
- **준수 항목**:
  - 시맨틱 HTML 사용 (`<header>`, `<nav>`, `<main>`, `<button>`)
  - 이미지 alt 텍스트 제공
  - 버튼 및 링크에 명확한 텍스트
- **미준수**: WCAG 2.1 AA 전체 기준
- **목표**: 기본적인 사용성 보장
- **참고**: 키보드 네비게이션, 스크린 리더 최적화는 선택사항

---

### NFRQ-CF-015: 터치 친화적 UI
- **요구사항**: 모든 클릭 가능한 요소는 최소 44x44px
- **적용**:
  - 버튼
  - 링크
  - 카드
  - 아이콘
- **목표**: 터치 디바이스 사용성 향상
- **검증 방법**: Chrome DevTools Device Mode

---

### NFRQ-CF-016: 사용자 피드백
- **요구사항**: 모든 사용자 액션에 즉각적인 피드백 제공
- **피드백 유형**:
  - 토스트 메시지 (성공, 에러)
  - 로딩 스피너
  - 버튼 상태 변경 (disabled, loading)
- **표시 시간**:
  - 성공 토스트: 2초 자동 닫기
  - 에러 토스트: 사용자가 수동으로 닫기
- **목표**: 명확한 상태 전달

---

## 5. 유지보수성 요구사항 (Maintainability)

### NFRQ-CF-017: 코드 구조
- **요구사항**: 명확한 디렉토리 구조 및 파일 명명 규칙
- **디렉토리 구조**:
  ```
  src/
  ├── views/          # 페이지 컴포넌트
  ├── components/     # 재사용 컴포넌트
  ├── stores/         # Pinia stores
  ├── services/       # API 호출
  ├── router/         # Vue Router
  ├── assets/         # 정적 파일
  └── types/          # TypeScript 타입 (선택)
  ```
- **파일 명명**: PascalCase (컴포넌트), camelCase (함수, 변수)
- **목표**: 코드 가독성 및 유지보수성 향상

---

### NFRQ-CF-018: 상태 관리
- **요구사항**: Pinia를 사용한 단순 상태 관리
- **Store 구조**:
  - `authStore`: 인증 및 세션
  - `menuStore`: 메뉴 및 카테고리
  - `cartStore`: 장바구니
  - `orderStore`: 주문
- **Store 간 의존성**: 최소화 (독립적 동작)
- **목표**: 간단하고 이해하기 쉬운 상태 관리

---

### NFRQ-CF-019: 주석 및 문서화
- **요구사항**: 복잡한 로직에 주석 추가
- **주석 대상**:
  - 비즈니스 규칙 구현
  - 복잡한 계산 로직
  - 외부 API 호출
- **주석 형식**: JSDoc 스타일 (선택사항)
- **목표**: 코드 이해도 향상

---

## 6. 확장성 요구사항 (Scalability)

### NFRQ-CF-020: 동시 사용자
- **요구사항**: 매장당 10-50개 테이블 동시 사용 지원
- **클라이언트 측 제약**: 없음 (각 태블릿은 독립적)
- **Backend 의존**: Backend API의 동시 처리 능력에 의존
- **목표**: 매장 규모에 맞는 확장성

---

### NFRQ-CF-021: 데이터 크기
- **요구사항**: 메뉴 100개, 주문 내역 50개까지 원활히 처리
- **메모리 관리**: 불필요한 데이터 정리 (세션 종료 시)
- **UI 성능**: 가상 스크롤 사용 안 함 (데이터 크기가 작음)
- **목표**: 일반적인 매장 규모 지원

---

## NFR Requirements Summary

| 카테고리 | 요구사항 수 | 요구사항 번호 |
|---------|------------|--------------|
| 성능 | 4 | NFRQ-CF-001 ~ NFRQ-CF-004 |
| 가용성 | 4 | NFRQ-CF-005 ~ NFRQ-CF-008 |
| 보안 | 3 | NFRQ-CF-009 ~ NFRQ-CF-011 |
| 사용성 | 5 | NFRQ-CF-012 ~ NFRQ-CF-016 |
| 유지보수성 | 3 | NFRQ-CF-017 ~ NFRQ-CF-019 |
| 확장성 | 2 | NFRQ-CF-020 ~ NFRQ-CF-021 |
| **총계** | **21** | **NFRQ-CF-001 ~ NFRQ-CF-021** |

---

## Critical NFR Requirements (우선순위 높음)

다음 요구사항들은 시스템 품질에 중요합니다:

1. **NFRQ-CF-001**: 페이지 로딩 시간 (< 2초)
2. **NFRQ-CF-002**: API 응답 대기 시간 (< 1초)
3. **NFRQ-CF-005**: 네트워크 에러 처리
4. **NFRQ-CF-009**: XSS 방어
5. **NFRQ-CF-010**: 세션 토큰 보안
6. **NFRQ-CF-012**: 브라우저 호환성
7. **NFRQ-CF-015**: 터치 친화적 UI
8. **NFRQ-CF-016**: 사용자 피드백
9. **NFRQ-CF-018**: 상태 관리
10. **NFRQ-CF-020**: 동시 사용자 지원

---

## Acceptance Criteria

각 NFR 요구사항의 검증 기준:

### 성능
- [ ] Lighthouse 점수 80점 이상
- [ ] FCP < 2초
- [ ] API 응답 < 1초
- [ ] 번들 크기 < 500KB (gzip)

### 가용성
- [ ] 네트워크 에러 자동 재시도 동작
- [ ] 에러 메시지 사용자 친화적
- [ ] 로딩 스피너 표시

### 보안
- [ ] XSS 공격 방어 테스트 통과
- [ ] 세션 토큰 안전하게 저장
- [ ] HTTPS 사용 (프로덕션)

### 사용성
- [ ] 최신 브라우저에서 정상 동작
- [ ] 터치 요소 44x44px 이상
- [ ] 모든 액션에 피드백 제공

### 유지보수성
- [ ] 코드 구조 명확
- [ ] Pinia Store 4개 독립적 동작
- [ ] 복잡한 로직에 주석

### 확장성
- [ ] 50개 테이블 동시 사용 가능
- [ ] 메뉴 100개, 주문 50개 처리

---

**문서 버전**: 1.0  
**작성일**: 2026-02-09  
**상태**: 완료
