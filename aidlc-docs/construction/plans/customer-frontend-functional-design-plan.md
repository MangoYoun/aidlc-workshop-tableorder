# Functional Design Plan - Customer Frontend

## Unit Context

**Unit Name**: Customer Frontend  
**Unit Type**: Frontend Application (Vue.js 3)  
**Project Type**: Greenfield

**Assigned Stories** (5 stories):
- Story 1.1: 테이블 자동 로그인
- Story 1.2: 메뉴 조회 및 탐색
- Story 1.3: 장바구니 관리
- Story 1.4: 주문 생성
- Story 1.5: 주문 내역 조회

**Dependencies**: Backend Service (API)

---

## Functional Design Questions

아래 질문들에 답변해주세요. 초보자 친화적인 답변을 AI가 추천하고 적용할 예정이며, 사용자는 검토 및 승인만 하시면 됩니다.

### Q1. 테이블 로그인 정보 저장 방식

테이블 자동 로그인을 위해 LocalStorage에 어떤 정보를 저장할까요?

**A) 최소 정보만 저장**
- store_id, table_number, session_token만 저장
- 보안성 높음, 재로그인 필요 시 간단

**B) 확장 정보 저장**
- store_id, table_number, session_token, table_name, store_name 저장
- UI에 테이블/매장 이름 표시 가능

**C) 전체 정보 저장**
- 위 정보 + 세션 만료 시간, 마지막 활동 시간 등
- 클라이언트에서 세션 만료 예측 가능

[Answer]: B

---

### Q2. 메뉴 카테고리 탐색 UI 패턴

메뉴 화면에서 카테고리 간 이동을 어떻게 구현할까요?

**A) 탭 방식 (Tabs)**
- 상단에 카테고리 탭 배치
- 탭 클릭 시 해당 카테고리 메뉴만 표시
- 간단하고 직관적

**B) 스크롤 방식 (Scroll)**
- 모든 카테고리 메뉴를 세로로 나열
- 스크롤하면서 카테고리 자동 전환
- 전체 메뉴 한눈에 파악 가능

**C) 드롭다운 방식 (Dropdown)**
- 카테고리 선택 드롭다운
- 선택한 카테고리 메뉴만 표시
- 공간 절약

[Answer]: A

---

### Q3. 장바구니 수량 조절 방식

장바구니에서 메뉴 수량을 어떻게 조절할까요?

**A) +/- 버튼**
- 수량 옆에 +/- 버튼 배치
- 버튼 클릭으로 수량 증가/감소
- 터치 친화적

**B) 숫자 입력**
- 수량을 직접 입력
- 대량 주문 시 편리
- 입력 검증 필요

**C) 슬라이더**
- 슬라이더로 수량 조절
- 시각적으로 직관적
- 정확한 수량 입력 어려움

[Answer]: A

---

### Q4. 장바구니 데이터 동기화 시점

장바구니 데이터를 LocalStorage에 언제 저장할까요?

**A) 즉시 저장 (Immediate)**
- 장바구니 변경 시마다 즉시 LocalStorage 저장
- 데이터 손실 위험 최소화
- 성능 영향 미미

**B) 지연 저장 (Debounced)**
- 변경 후 일정 시간(예: 500ms) 후 저장
- 연속 변경 시 성능 최적화
- 구현 복잡도 증가

**C) 수동 저장 (Manual)**
- 사용자가 "저장" 버튼 클릭 시 저장
- 명시적 제어
- 사용자 불편

[Answer]: A

---

### Q5. 주문 확정 전 확인 단계

주문하기 버튼 클릭 시 확인 단계를 어떻게 구현할까요?

**A) 모달 확인 (Modal)**
- 주문 내역을 모달로 표시
- "확인" 버튼으로 최종 확정
- 명확한 확인 단계

**B) 인라인 확인 (Inline)**
- 장바구니 화면에서 바로 확인
- "주문하기" 버튼 한 번만 클릭
- 빠른 주문

**C) 2단계 확인 (Two-step)**
- 1단계: 주문 내역 확인
- 2단계: 최종 확인 팝업
- 실수 방지 강화

[Answer]: A

---

### Q6. 주문 성공 후 피드백

주문 성공 시 사용자에게 어떤 피드백을 제공할까요?

**A) 토스트 메시지 + 자동 이동**
- 성공 토스트 메시지 표시 (2초)
- 자동으로 메뉴 화면으로 이동
- 빠른 다음 주문 가능

**B) 성공 화면 + 수동 이동**
- 주문 성공 전용 화면 표시
- 주문 번호, 예상 시간 등 표시
- 사용자가 "확인" 버튼으로 이동

**C) 모달 + 선택 이동**
- 성공 모달 표시
- "메뉴로 돌아가기" / "주문 내역 보기" 선택
- 유연한 이동

[Answer]: A

---

### Q7. 주문 내역 정렬 순서

주문 내역을 어떤 순서로 표시할까요?

**A) 최신순 (Newest First)**
- 가장 최근 주문이 맨 위
- 최신 주문 빠르게 확인
- 일반적인 패턴

**B) 오래된순 (Oldest First)**
- 가장 오래된 주문이 맨 위
- 시간 순서대로 확인
- 덜 직관적

**C) 상태별 그룹화 (Grouped by Status)**
- 대기중 → 준비중 → 완료 순으로 그룹화
- 각 그룹 내에서 최신순
- 상태 파악 용이

[Answer]: A

---

### Q8. 메뉴 이미지 로딩 실패 처리

메뉴 이미지 로딩 실패 시 어떻게 처리할까요?

**A) 기본 이미지 표시 (Placeholder)**
- 로딩 실패 시 기본 이미지 표시
- 일관된 UI 유지
- 간단한 구현

**B) 텍스트만 표시 (Text Only)**
- 이미지 영역에 메뉴명만 표시
- 이미지 없이도 정보 전달
- 시각적 매력 감소

**C) 재시도 버튼 (Retry)**
- 로딩 실패 시 재시도 버튼 표시
- 사용자가 수동으로 재시도
- 추가 인터랙션 필요

[Answer]: A

---

### Q9. 네트워크 에러 처리 전략

API 호출 실패 시 어떻게 처리할까요?

**A) 자동 재시도 + 에러 메시지**
- 실패 시 자동으로 1-2회 재시도
- 재시도 실패 시 에러 메시지 표시
- 사용자 개입 최소화

**B) 즉시 에러 메시지**
- 실패 시 바로 에러 메시지 표시
- 사용자가 수동으로 재시도
- 명확한 에러 인지

**C) 오프라인 모드**
- 네트워크 에러 시 오프라인 모드 전환
- LocalStorage 데이터로 동작
- 복잡한 구현

[Answer]: A

---

### Q10. 세션 만료 처리 방식

테이블 세션이 만료되었을 때 어떻게 처리할까요?

**A) 자동 로그아웃 + 알림**
- 세션 만료 시 자동 로그아웃
- 알림 모달 표시 ("세션이 만료되었습니다")
- 로그인 화면으로 이동

**B) 재로그인 프롬프트**
- 세션 만료 시 재로그인 모달 표시
- 비밀번호 재입력으로 세션 갱신
- 현재 화면 유지

**C) 무시 (Ignore)**
- 세션 만료 무시
- API 호출 시 401 에러로 처리
- 사용자 혼란 가능

[Answer]: A

---

## Execution Plan

### Phase 1: Analyze Unit Context
- [x] Unit of Work 정의 읽기
- [x] 할당된 Stories 확인
- [x] Unit 책임 및 경계 이해

### Phase 2: Create Functional Design Plan
- [x] 10개 설계 질문 생성
- [x] 각 질문에 초보자 친화적 옵션 제공
- [x] Plan 파일 저장

### Phase 3: Collect Answers
- [x] 사용자 답변 수집
- [x] 답변 검토 및 모순 확인
- [x] 필요 시 명확화 질문 생성

### Phase 4: Generate Functional Design Artifacts
- [x] business-logic-model.md 생성
- [x] domain-entities.md 생성
- [x] business-rules.md 생성

### Phase 5: Present and Approve
- [x] 완료 메시지 표시
- [x] 사용자 승인 대기
- [x] audit.md 로깅

---

**문서 버전**: 1.0  
**작성일**: 2026-02-09  
**상태**: 답변 대기
